<div ng-controller= "editChemController" ng-init="editChem=true; update=true">
    <div class ="container">
        <div ng-show="editChem">
            <caption><H3>แก้ไขข้อมูลสารเคมี</H3></caption>
            ค้นหา : <input type="text" ng-model="searchThis"><br/>
            <input type="button" ng-click="deleteRecord()" value="previous">
                <select ng-init="searchRange = options[0]" 
                        ng-model="searchRange" 
                        ng-options="option.name for option in options">
                </select>
            <input type="button" ng-click="addRecord()" value="next"><br>
            <table class= " table table-bordered">
                <tr>
                    <th>ชื่อสารเคมี</th>
                    <th>Cas no.</th>
                    <th>สถานะ</th>
                    <th>ปริมาณ</th>
                    <th>อาคาร</th>
                    <th>ห้อง</th>
                    <th>ราคา/หน่วย</th>
                    <th>เกรด</th>
                    <th>ผู้ผลิต</th>
                    <th>นำเข้า</th>
                </tr>
                <tr ng-repeat="showdata in listChem | filter : searchThis | limitTo : searchRange.value : begin">
                    <td>{{showdata.cc_name}}</td>
                    <td>{{showdata.cc_casNo}}</td>
                    <td>{{showdata.cc_state}}</td>
                    <td>{{showdata.cc_quantity}}</td>
                    <td>{{showdata.cl_name}}</td>
                    <td>{{showdata.cc_room}}</td>
                    <td>{{showdata.cc_price}}/{{showdata.cu_name_abb}}</td>
                    <td>{{showdata.cc_grade}}</td>
                    <td>{{showdata.cc_producer}}</td>
                    <td><input type="button" value="เลือก" ng-click="addCart(showdata)" data-toggle="modal" data-target="#myModal"></td>
                </tr>
            </table> 
        </div>
        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">ยืนยันแก้ไขข้อมูลสารเคมี</h4>
              </div>
              <div class="modal-body">
                  <table width="100%" border="0">
                    <tr>
                        <td align="right"><label for="cc_name">ชื่อสารเคมี :</label></td>
                        <td><input ng-model="cc_name" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_type">ประเภทสารเคมี :</label></td>
                        <td><input ng-model="cc_type" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_code">รหัสสารเคมี :</label></td>
                        <td><input ng-model="cc_code" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_casNo">เลขอ้างอิงเฉพาะ (Cas no.) :</label></td>
                        <td><input ng-model="cc_casNo" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_state">สถานะสาร :</label></td>
                        <td>
                            <select ng-model="cc_state">
                                <option value="" >เลือกสถานะ</option>
                                <option value="S" >solid</option>
                                <option value="L">liquid</option>
                                <option value="G">gas</option>
                            </select> {{cc_state}}
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_volume">ขนาดบรรจุ :</label></td>
                        <td><input ng-model="cc_volume" type="text" class="" />
                            
                            <select ng-model="cc_unit_fk" >
                                <option ng-repeat="lu in listUnit" value="{{lu.cu_pk}}" >{{lu.cu_name_abb}}</option>
                            </select> {{cc_unit_fk}}
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_quantity">จำนวน :</label></td>
                        <td><input ng-model="cc_quantity" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_packing">จำนวนแพ็ค :</label></td>
                        <td><input ng-model="cc_packing" type="text" class="" />
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="location">คลัง :</label></td>
                        <td>
                            <select ng-model="cc_location_fk" >
                                <option ng-repeat="ll in listLoc" value="{{ll.cl_pk}}">{{ll.cl_name}}</option>
                            </select> {{cc_location_fk}}
                        </td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_room">ห้อง :</label></td>
                        <td><input ng-model="cc_room" type="text" class="" /></td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_price">ราคา :</label></td>
                        <td><input ng-model="cc_price" type="text" class="" /></td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_grade">เกรด :</label></td>
                        <td><input ng-model="cc_grade" type="text" class="" /></td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_expDt">วันหมดอายุ :</label></td>
                        <td><input ng-model="cc_expDt" type="date" class="" /></td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_producer">ผู้ผลิต :</label></td>
                        <td><input ng-model="cc_producer" type="text" class="" /></td>
                    </tr>
                    <tr>
                        <td align="right"><label for="cc_desc">หมายเหตุ :</label></td>
                        <td><textarea ng-model="cc_desc" id="form-cc_desc" rows="4" cols="50"></textarea></td>
                    </tr>
                </table>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">ยกเลิก</button>
                <button type="button" class="btn btn-primary" ng-click="updateChem(showdata)">บันทึก</button>
              </div>
            </div>
          </div>
        </div>  
    </div>
</div>